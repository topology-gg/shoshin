"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.useInvalidateOnBlock = void 0;
const react_query_1 = require("@tanstack/react-query");
const block_1 = require("./block");
/**
 * Invalidate the given query on every new block.
 */
function useInvalidateOnBlock({ enabled, queryKey, }) {
    const queryClient = (0, react_query_1.useQueryClient)();
    (0, block_1.useBlock)({ onSuccess: enabled ? (_block) => queryClient.invalidateQueries(queryKey) : undefined });
}
exports.useInvalidateOnBlock = useInvalidateOnBlock;
//# sourceMappingURL=invalidate.js.map